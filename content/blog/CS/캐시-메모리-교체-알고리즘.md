---
title: 캐시 메모리 교체 알고리즘
date: 2022-04-15 21:04:45
category: CS
thumbnail: { thumbnailSrc }
draft: false
---

## INTRO

오늘 면접에서 캐시 메모리의 교체 알고리즘에 대한 질문을 받았다.

컴퓨터 구조에 대한 강의를 수강하고 있어서 자신있게 대답하려고 하는 순간 알고리즘의 이름이 생각나질 않았다.

머리 속에서 생각나는 단어를 끄집어 내다가 마지막으로 나온게 `라운드 로빈` 알고리즘이었다.

사실 이것도 정확하게 `라운드 로빈`이라고 말한게 아니라, '알고리즘 명칭은 기억이 잘 안나는데 로빈슨 어쩌구'라는 알고리즘이 있습니다라고 대답했다.

대답하고서 면접관님의 표정을 확인하고, [`라운드 로빈`](https://ko.wikipedia.org/wiki/%EB%9D%BC%EC%9A%B4%EB%93%9C_%EB%A1%9C%EB%B9%88_%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81)알고리즘이 캐시 메모리의 교체 알고리즘이 아니라, CPU 스케줄링 알고리즘이라는 것을 깨달았지만 이미 뱉었던 말을 주워 담을 수도 없었고, 캐시 메모리의 교체 알고리즘이 어떤게 있는지 생각이 나질 않아서 결국에는 이 부분에 대해서는 정리가 잘 안되서 잘 모르겠다라고 말하고 마무리했다.

그래서 캐시 메모리 교체 알고리즘에 대해서 정리를 해보려고 한다.

## 캐시 메모리

먼저, 캐시란 CPU에서 자주 사용하는 데이터를 빠르게 접근하기 위한 메모리 크기가 작은 저장소이다.

(캐시에 저장된 데이터는 하드 디스크나 램에 저장된 데이터보다 빠르게 접근 할 수 있다.)

- 시간적, 공간적 지역성을 기반으로 가까운 미래에 접근될 확률이 높은 데이터를 작지만 빠른 캐시 메모리에 미리 보관하여 전체적인 시스템의 성능을 높인다.

### 캐시 메모리 저장 규칙

- 최근에 접근된 데이터(Temporal Locality - 시간적 지역성)
  - ex) 어제 A와 카톡을 했다. → 오늘도 A와 카톡을 할 확률이 높기 때문에 높은 우선순위를 갖는다.
- 최근에 접근된 데이터의 주변 데이터(Spatial Locality - 공간적 지역성)
  - ex) A와 카톡을 했다. → A와 같이 있는 단톡방 친구과도 카톡을 할 확률이 높기 때문에 높은 우선순위를 갖는다.

### 교체 알고리즘

|              종류              |                             개념                              |
| :----------------------------: | :-----------------------------------------------------------: |
|             Random             |                 교체 될 데이터를 임의로 선정                  |
|    FIFO(First In First Out)    |              가장 먼저 들어온 데이터를 먼저 교체              |
|   LFU(Least Frequently Used)   |                사용 횟수가 적은 데이터를 교체                 |
|    LRU(Least Recently Used)    |             가장 오래 사용하지 않은 데이터를 교체             |
|     NRU(Not Recently Used)     | 참조비트와 수정비트를 이용해 오래 사용하지 않은 데이터를 교체 |
| SCR(Second Chance Replacement) |    참조비트에 변화를 주어 오래 사용하지 않은 데이터를 교체    |
|   MFU(Most Frequently Used)    |               참조 횟수가 가장 많은 데이터 교체               |

**데이터 대신 페이지라고 표현**

- 일반적으로 캐시 메모리에는 LRU 교체 방식을 사용

## OUTRO

캐시 메모리에 대해서 정리하면서 강의를 통해서 들었던 내용들을 한귀로 듣고 한귀로 흘렸던건 아니었는지 다시 생각해 보게되었다.

면접에서 또 헷갈리는 일이 없도록 개념 지도를 잘 만들어 둬야 겠다고 느꼈고, 이번에는 빠르게 찍먹하는 정도로 정리를 했지만 추후 더 딥하게 학습해 정리할 필요가 있다고 생각했다.

> 참조 영상
>
> [CPU 캐시메모리 5분 완벽 설명 - [高지식] 거니](https://www.youtube.com/watch?v=Lp5ARfO9RRg)
>
> [캐시 메모리 및 가상 메모리 교체 알고리즘](https://poktani.tistory.com/entry/%EC%BA%90%EC%8B%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%B0%8F-%EA%B0%80%EC%83%81%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%90%EC%B2%B4-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)
